---
layout: post
title: " Library | THM  "
date: 2021-12-10 20:17:00 -0000
categories: CTF THM
---

<h3>Executive Summary</h3>
This was a quick little box. A couple of hints on the webpage let us bruteforce a user and then manipulate a python script for root. 

<h3>Technical Details</h3>
<h2>Enumeration</h2>

OK! Lets take the classic approach. First, enumerate the ports! All of them just to be sure. I break the scans up into 10k sections to make it go a little faster.
The only open ports we find are 22 and 80. A classic set-up

Lets use gobuster!! Again, not much info. just robots.txt and images. On the robots.txt there is a hint. It says rockyou. Ah the classic.

If we go to the webpage itself, we can see that there are comments made by a few users.

Melodias
www-data
root
anonymous 

Ok, lets do some bruteforcing. 

hydra -l meliodas -P rockyou.txt 10.10.92.70 -t 64 ssh

bing bong - we get a user and pass.

<h2>Initial Foothold</h2>

SSH to get into the user directory and read the flag. 

<h2>Lateral Movement</h2>

sudo -l -> we can run a python script in our directory as root. Don't even read that script, just delete it and replace as a reverse python shell. 
<h2>Priv Esc </h2>

Set up nc listener on your box and run the script as root. gg 
